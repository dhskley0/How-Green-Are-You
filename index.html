<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How Green Are You? ‚Äî Project Zero Plastic</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#aaf0d1] text-gray-800 font-sans flex items-center justify-center min-h-screen">

  <div id="quiz-container" class="bg-white shadow-2xl rounded-2xl p-8 w-full max-w-lg text-center">
    <h1 class="text-3xl font-bold mb-4 text-green-700">How Green Are You?</h1>
    <p class="mb-6 text-gray-600">Let‚Äôs see how eco-friendly you are! Take this fun quiz and find out how green your habits really are.</p>

    <div id="start-screen">
      <button onclick="startQuiz()" class="bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-full">
        Start Quiz
      </button>
    </div>

    <div id="quiz-screen" class="hidden">
      <h2 id="question" class="text-xl font-semibold mb-4"></h2>
      <div id="options" class="flex flex-col gap-3 mb-4"></div>
      <div class="w-full bg-gray-200 rounded-full h-2.5 mb-4">
        <div id="progress" class="bg-green-600 h-2.5 rounded-full transition-all duration-300" style="width: 0%;"></div>
      </div>
    </div>

    <div id="result-screen" class="hidden">
      <h2 id="result-title" class="text-2xl font-bold mb-2 text-green-700"></h2>
      <p id="result-message" class="mb-6 text-gray-600"></p>

      <input id="name" type="text" placeholder="Enter your name" class="border border-gray-300 rounded-md p-2 w-full mb-4" />
      <button onclick="submitResult()" class="bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-full">Submit</button>

      <div id="join-section" class="hidden mt-8 text-left border-t pt-6 border-gray-300"></div>

      <div class="flex flex-col gap-3 mt-4">
        <a href="https://www.facebook.com/profile.php?id=61582675312113" target="_blank" class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-full text-center">Learn More About Project Zero Plastic</a>
        <button onclick="restartQuiz()" class="bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-full">Try Again</button>
        <button onclick="shareOnFacebook()" class="bg-[#1877f2] hover:bg-blue-800 text-white py-2 px-4 rounded-full">Share on Facebook</button>
      </div>
    </div>
  </div>

  <script>
    const quizData = [
      { question: "How often do you use reusable bags?", options: ["Never", "Sometimes", "Always"], scores: [0, 1, 2] },
      { question: "What should you do with single-use plastic bottles?", options: ["Throw them away", "Recycle them", "Burn them"], scores: [0, 2, 0] },
      { question: "Which of these items can be recycled?", options: ["Plastic bottles", "Food waste", "Styrofoam"], scores: [2, 0, 0] },
      { question: "How do you dispose of plastic waste at home?", options: ["Mix it with other trash", "Segregate properly", "Leave it anywhere"], scores: [0, 2, 0] },
      { question: "What‚Äôs one simple way to reduce plastic pollution?", options: ["Use reusable items", "Ignore the issue", "Buy more plastic"], scores: [2, 0, 0] }
    ];

    let currentQuestion = 0;
    let score = 0;
    const leaderboard = []; // local leaderboard

    function startQuiz() {
      document.getElementById("start-screen").classList.add("hidden");
      document.getElementById("quiz-screen").classList.remove("hidden");
      loadQuestion();
    }

    function loadQuestion() {
      const questionData = quizData[currentQuestion];
      document.getElementById("question").textContent = questionData.question;

      const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";

      questionData.options.forEach((option, index) => {
        const button = document.createElement("button");
        button.textContent = option;
        button.className = "bg-green-100 hover:bg-green-200 py-2 px-4 rounded-full";
        button.onclick = () => selectAnswer(index);
        optionsDiv.appendChild(button);
      });

      document.getElementById("progress").style.width = `${(currentQuestion / quizData.length) * 100}%`;
    }

    function selectAnswer(index) {
      score += quizData[currentQuestion].scores[index];
      currentQuestion++;
      if (currentQuestion < quizData.length) loadQuestion();
      else showResult();
    }

    function showResult() {
      document.getElementById("quiz-screen").classList.add("hidden");
      document.getElementById("result-screen").classList.remove("hidden");

      let title = "";
      let message = "";

      if (score <= 3) {
        title = "üåø Budding Eco Explorer";
        message = "You‚Äôre just getting started! Keep learning and make greener choices.";
      } else if (score <= 7) {
        title = "üå± Green Guardian";
        message = "You‚Äôre doing great! Keep promoting eco-friendly habits.";
      } else {
        title = "üåé Planet Protector";
        message = "Amazing! You're a Zero ‚Äî leading the way for a cleaner, greener Earth!";
      }

      document.getElementById("result-title").textContent = title;
      document.getElementById("result-message").textContent = message;
      document.getElementById("progress").style.width = "100%";
    }

    function submitResult() {
      const name = document.getElementById("name").value.trim();
      if (!name) { alert("Please enter your name first!"); return; }

      // Add to leaderboard
      leaderboard.push({ name, score });
      leaderboard.sort((a, b) => b.score - a.score); // highest first

      // Build leaderboard HTML
      let rankingHTML = "<h3 class='text-lg font-bold mb-2 text-green-700'>üèÜ Leaderboard</h3><ol class='text-left'>";
      leaderboard.forEach(player => {
        rankingHTML += `<li>${player.name}: ${player.score} points</li>`;
      });
      rankingHTML += "</ol>";

      document.getElementById("join-section").innerHTML = rankingHTML;
      document.getElementById("join-section").classList.remove("hidden");
    }

    function restartQuiz() {
      currentQuestion = 0; score = 0;
      document.getElementById("result-screen").classList.add("hidden");
      document.getElementById("join-section").classList.add("hidden");
      document.getElementById("start-screen").classList.remove("hidden");
    }

    function shareOnFacebook() {
      const url = encodeURIComponent(window.location.href);
      window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, "_blank");
    }
  </script>

</body>
</html>
